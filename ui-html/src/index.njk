---
layout: layouts/base
title: CSS Sprite Generator
description: FREE Online tool for generating CSS sprites. Supports WEBP, PNG, JPEG, GIF, BMP, HEIC image formats. Merge multiple images into a sprite fast and easy.
keywords: css,sprite,image,generator,free,tool,online,webp,png
permalink: '/'
noscripts:
    - <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/styles/gradient-dark.min.css">
scripts:
    - https://cdn.jsdelivr.net/npm/alpinejs@3.14.1/dist/cdn.min.js
    - https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.10.0/build/highlight.min.js
    - https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/languages/css.min.js
    - https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/languages/xml.min.js
    - https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.3/dist/confetti.browser.min.js
---
<link rel="preload" href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/styles/gradient-dark.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">

<div class="overflow-hidden min-h-[52rem] mx-auto">
    <div class="max-w-[85rem] mx-auto px-4 sm:px-6 lg:px-8 py-10">
        <div class="relative mx-auto max-w-4xl grid space-y-5 sm:space-y-10">
            <div class="text-center">
                <p class="text-xs font-semibold text-gray-500 tracking-wide uppercase mb-3 dark:text-neutral-200">
                    Free Tiny Tools Online
                </p>
                <h1 class="text-3xl text-gray-800 font-bold sm:text-5xl lg:text-6xl lg:leading-tight dark:text-neutral-200">
                    CSS
                    <span class="text-blue-600 dark:text-blue-500">Sprite Generator</span>
                </h1>
            </div>
            <form
                id="css-form"
                name="css-sprite-form"
                method="post"
                action="/api/upload"
                x-data="spriteForm()"
                @submit.prevent="submitForm">
                <div class="flex p-4 mb-8 text-sm text-blue-800 rounded-lg bg-blue-50 dark:bg-gray-800 dark:text-blue-400" role="alert">
                    <svg
                        class="flex-shrink-0 inline w-4 h-4 me-3 mt-[2px]"
                        aria-hidden="true"
                        xmlns="http://www.w3.org/2000/svg"
                        fill="currentColor"
                        viewbox="0 0 20 20">
                        <path d="M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1
                        0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z"/>
                    </svg>
                    <span class="sr-only">Info</span>
                    <div>
                        <span class="font-medium">What can this tool do?</span>
                        <ul class="mt-1.5 list-disc list-inside">
                            <li>Generate CSS sprites from multiple images in WebP, PNG, JPEG, GIF, BMP, HEIC formats</li>
                            <li>Return sprites in PNG or WebP format</li>
                            <li>Up to 25 images and 2MB each</li>
                        </ul>
                    </div>
                </div>
                <h3 class="mb-4 font-semibold text-gray-900 dark:text-white">OUTPUT SPRITE FORMAT</h3>
                <div class="grid gap-6 md:grid-cols-2 mb-8">
                    <div class="flex items-center ps-4 border border-gray-200 rounded dark:border-gray-700">
                        <div class="flex items-center h-5">
                            <input
                                name="format"
                                x-model="formData.format"
                                id="png-radio"
                                aria-describedby="png-radio-text"
                                type="radio"
                                value="png"
                                class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600
                                    dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600">
                        </div>
                        <div class="ms-2 py-2 text-sm">
                            <label for="png-radio" class="font-medium text-gray-900 dark:text-gray-300">PNG</label>
                            <p id="png-radio-text" class="text-xs font-normal text-gray-500 dark:text-gray-300">
                                Good old image format developed in 1996</p>
                        </div>
                    </div>
                    <div class="flex items-center ps-4 border border-gray-200 rounded dark:border-gray-700">
                        <div class="flex items-center h-5">
                            <input
                                name="format"
                                x-model="formData.format"
                                checked
                                id="webp-radio"
                                aria-describedby="webp-radio-text"
                                type="radio"
                                value="webp"
                                class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600
                                    dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600">
                        </div>
                        <div class="ms-2 py-2 text-sm">
                            <label for="webp-radio" class="font-medium text-gray-900 dark:text-gray-300">WebP</label>
                            <p id="webp-radio-text" class="text-xs font-normal text-gray-500 dark:text-gray-300">
                                Modern image format with better compression</p>
                        </div>
                    </div>
                </div>
                <h3 class="mb-4 font-semibold text-gray-900 dark:text-white">UPLOAD IMAGES</h3>
                <div class="block relative items-center justify-center w-full mb-4">
                    <label
                        for="dropzone-file"
                        class="flex flex-col items-center justify-center w-full h-64 border-2 border-gray-300 border-dashed rounded-lg
                            cursor-pointer bg-gray-50 dark:hover:bg-gray-800 dark:bg-gray-700 hover:bg-gray-100 dark:border-gray-600
                            dark:hover:border-gray-500 dark:hover:bg-gray-600">
                        <div class="flex flex-col items-center justify-center pt-5 pb-6">
                            <svg
                                class="w-8 h-8 mb-4 text-gray-500 dark:text-gray-400"
                                aria-hidden="true"
                                xmlns="http://www.w3.org/2000/svg"
                                fill="none"
                                viewbox="0 0 20 16">
                                <path
                                    stroke="currentColor"
                                    stroke-linecap="round"
                                    stroke-linejoin="round"
                                    stroke-width="2"
                                    d="M13 13h3a3 3 0 0 0 0-6h-.025A5.56 5.56 0 0 0 16 6.5 5.5 5.5 0 0 0 5.207 5.021C5.137 5.017 5.071 5 5 5a4 4 0 0 0 0
                                        8h2.167M10 15V6m0 0L8 8m2-2 2 2"/>
                            </svg>
                            <p class="mb-2 text-sm text-gray-500 dark:text-gray-400">
                                <span class="font-semibold">Click to upload</span>
                                or drag and drop</p>
                            <p class="text-xs text-gray-500 dark:text-gray-400">WebP, PNG, JPEG, GIF, BMP or HEIC</p>
                        </div>
                        <input
                            multiple
                            id="dropzone-file"
                            type="file"
                            accept="image/jpeg, image/gif, image/png, image/heic, image/webp, image/bmp"
                            class="absolute inset-0 z-50 m-0 p-0 w-full h-full outline-none opacity-0"
                            x-on:change="formData.files = Object.values($event.target.files)"
                            x-on:dragover="$el.classList.add('active')"
                            x-on:dragleave="$el.classList.remove('active')"
                            x-on:drop="$el.classList.remove('active')"/>
                    </label>
                </div>
                <div class="flex flex-wrap gap-2 mt-4 mb-4 preview-pattern h-[40px] max-h-[40px] overflow-y-auto [&::-webkit-scrollbar]:w-1
                        [&::-webkit-scrollbar-track]:rounded-full [&::-webkit-scrollbar-track]:bg-gray-100
                        [&::-webkit-scrollbar-thumb]:rounded-full [&::-webkit-scrollbar-thumb]:bg-gray-300
                        dark:[&::-webkit-scrollbar-track]:bg-neutral-700 dark:[&::-webkit-scrollbar-thumb]:bg-neutral-500">
                    <template x-for="(file, index) in formData.files" :key="index">
                        <div class="group relative" x-data="{ hover: false }" @mouseover="hover = true" @mouseleave="hover = false">
                            <img
                                :src="URL.createObjectURL(file)"
                                class="object-cover w-10 h-10 rounded-lg cursor-pointer group-hover:grayscale"
                                alt="to upload"/>
                            <button
                                type="button"
                                x-show="hover"
                                @click="formData.files.splice(index, 1)"
                                class="absolute bottom-2 left-2 z-5 p-1.5 text-white bg-red-500 rounded-full dark:bg-red-600"
                                aria-label="Remove image">
                                <svg class="w-3 h-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewbox="0 0 14 14">
                                    <path
                                        stroke="currentColor"
                                        stroke-linecap="round"
                                        stroke-linejoin="round"
                                        stroke-width="2"
                                        d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"/>
                                </svg>
                            </button>
                        </div>
                    </template>
                </div>
                <div class="flex flex-row gap-6 max-h-[40px]">
                    <button
                        :disabled="state === 'loading'"
                        type="submit"
                        :class="state === 'loading' ? 'py-2.5 px-5 me-2 text-sm font-medium text-gray-900 bg-white rounded-lg border border-gray-200 hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-4 focus:outline-none focus:ring-blue-700 focus:text-blue-700 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-700 inline-flex items-center' : 'text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center inline-flex items-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800'">
                        Generate CSS Sprite
                        <svg
                            x-show="state != 'loading'"
                            class="rtl:rotate-180 w-3.5 h-3.5 ms-2"
                            aria-hidden="true"
                            xmlns="http://www.w3.org/2000/svg"
                            fill="none"
                            viewbox="0 0 14 10">
                            <path
                                stroke="currentColor"
                                stroke-linecap="round"
                                stroke-linejoin="round"
                                stroke-width="2"
                                d="M1 5h12m0 0L9 1m4 4L9 9"/>
                        </svg>
                        <svg
                            x-cloak
                            x-show="state === 'loading'"
                            aria-hidden="true"
                            role="status"
                            class="inline w-4 h-4 ms-2 text-gray-200 animate-spin dark:text-gray-600"
                            viewbox="0 0 100 101"
                            fill="none"
                            xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50
                                    0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987
                                    91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921
                                    9.08144 50.5908Z"
                                fill="currentColor"/>
                            <path
                                d="M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452
                                    15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843
                                    41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511
                                    9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619
                                    82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z"
                                fill="#1C64F2"/>
                        </svg>
                    </button>
                    <div
                        x-cloak
                        x-show="state === 'error'"
                        class="flex flex-auto items-center p-4 text-sm text-red-800 rounded-lg bg-red-50 dark:bg-gray-800 dark:text-red-400"
                        role="alert">
                        <svg
                            class="flex-shrink-0 inline w-4 h-4 me-3"
                            aria-hidden="true"
                            xmlns="http://www.w3.org/2000/svg"
                            fill="currentColor"
                            viewbox="0 0 20 20">
                            <path d="M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1
                            0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z"/>
                        </svg>
                        <span class="sr-only">Info</span>
                        <div x-text="message">
                            <span class="font-medium">Danger alert!</span>
                            Change a few things up and try submitting again.
                        </div>
                    </div>
                </div>
                <div id="output" x-cloak x-show="state === 'success'">
                    <div class="inline-flex items-center justify-center w-full">
                        <hr class="w-64 h-px my-8 bg-gray-200 border-0 dark:bg-gray-700">
                        <span class="absolute px-3 font-semibold text-gray-900 -translate-x-1/2 bg-white left-1/2 dark:text-white dark:bg-neutral-950 ">
                            OUTPUT</span>
                    </div>
                </div>
                <div x-cloak x-show="state === 'success'" x-data="{ tab: 'sprite' }">
                    <div class="mb-4 border-b border-gray-200 dark:border-gray-700">
                        <ul class="flex flex-wrap -mb-px text-sm font-medium text-center" id="sprite-tab" role="tablist">
                            <li class="me-2" role="presentation">
                                <button
                                    @click.prevent="tab = 'sprite'"
                                    class="inline-block p-4 border-b-2 rounded-t-lg"
                                    :class="tab === 'sprite' ? 'text-blue-600 hover:text-blue-600 dark:text-blue-500 dark:hover:text-blue-500 border-blue-600 dark:border-blue-500' : 'dark:border-transparent text-gray-500 hover:text-gray-600 dark:text-gray-400 border-gray-100 hover:border-gray-300 dark:border-gray-700 dark:hover:text-gray-300'"
                                    id="profile-tab"
                                    type="button"
                                    role="tab"
                                    aria-controls="sprite"
                                    aria-selected="true">Sprite</button>
                            </li>
                            <li class="me-2" role="presentation">
                                <button
                                    @click.prevent="tab = 'css'"
                                    :class="tab === 'css' ? 'text-blue-600 hover:text-blue-600 dark:text-blue-500 dark:hover:text-blue-500 border-blue-600 dark:border-blue-500' : 'dark:border-transparent text-gray-500 hover:text-gray-600 dark:text-gray-400 border-gray-100 hover:border-gray-300 dark:border-gray-700 dark:hover:text-gray-300'"
                                    class="inline-block p-4 border-b-2 rounded-t-lg "
                                    id="css-tab"
                                    type="button"
                                    role="tab"
                                    aria-controls="css"
                                    aria-selected="false">CSS</button>
                            </li>
                            <li class="me-2" role="presentation">
                                <button
                                    @click.prevent="tab = 'html'"
                                    :class="tab === 'html' ? 'text-blue-600 hover:text-blue-600 dark:text-blue-500 dark:hover:text-blue-500 border-blue-600 dark:border-blue-500' : 'dark:border-transparent text-gray-500 hover:text-gray-600 dark:text-gray-400 border-gray-100 hover:border-gray-300 dark:border-gray-700 dark:hover:text-gray-300'"
                                    class="inline-block p-4 border-b-2 rounded-t-lg"
                                    id="html-tab"
                                    type="button"
                                    role="tab"
                                    aria-controls="html"
                                    aria-selected="false">HTML</button>
                            </li>
                            <li role="presentation">
                                <a
                                    :href="result.ZipUrl"
                                    download="css-sprite.zip"
                                    rel="noopener noreferrer"
                                    class="p-4 inline-flex items-center font-medium text-blue-600 dark:text-blue-500 hover:underline">
                                    Download .zip
                                    <svg class="w-4 h-4 ms-2 rtl:rotate-180" viewbox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path
                                            d="M20 15V18C20 19.1046 19.1046 20 18 20H6C4.89543 20 4 19.1046 4 18L4 15M8 11L12 15M12 15L16 11M12 15V3"
                                            stroke="currentColor"
                                            stroke-width="2"
                                            stroke-linecap="round"
                                            stroke-linejoin="round"/>
                                    </svg>
                                </a>
                            </li>
                        </ul>
                    </div>
                    <div id="tab-content">
                        <div class="max-h-[600px] min-h-[600px] p-4 rounded-lg bg-gray-50 dark:bg-gray-800 overflow-y-auto [&::-webkit-scrollbar]:w-1 [&::-webkit-scrollbar-track]:rounded-full [&::-webkit-scrollbar-track]:bg-gray-100 [&::-webkit-scrollbar-thumb]:rounded-full [&::-webkit-scrollbar-thumb]:bg-gray-300 dark:[&::-webkit-scrollbar-track]:bg-neutral-700 dark:[&::-webkit-scrollbar-thumb]:bg-neutral-500">
                            <img
                                x-show="result.SpriteUrl && tab === 'sprite'"
                                :src="result.SpriteUrl"
                                class="object-cover rounded"
                                alt="Generated CSS Sprite"
                                id="sprite"
                                role="tabpanel"
                                aria-labelledby="sprite-tab"/>
                            <pre x-show="tab === 'css'" class="grid">
                                <code x-text="result.Css" class="language-css"></code>
                            </pre>
                            <pre x-show="tab === 'html'" class="grid">
                                <code x-text="result.Html" class="language-html"></code>
                            </pre>
                        </div>
                    </div>
                </div>
            </form>
            <!-- <div class="hidden absolute top-2/4 start-0 transform -translate-y-2/4 -translate-x-40 md:block lg:-translate-x-80"
            aria-hidden="true"> <svg class="w-52 h-auto" width="717" height="653" viewBox="0 0 717 653" fill="none"
            xmlns="http://www.w3.org/2000/svg">
                <path
                  d="M170.176 228.357C177.176 230.924 184.932 227.329 187.498 220.329C190.064 213.329 186.47 205.574 179.47 203.007L170.176 228.357ZM98.6819 71.4156L85.9724 66.8638L85.8472 67.2136L85.7413 67.5698L98.6819 71.4156ZM336.169 77.9736L328.106 88.801L328.288 88.9365L328.475 89.0659L336.169 77.9736ZM616.192 128.685C620.658 122.715 619.439 114.254 613.469 109.788L516.183 37.0035C510.213 32.5371 501.753 33.756 497.286 39.726C492.82 45.696 494.039 54.1563 500.009 58.6227L586.485 123.32L521.788 209.797C517.322 215.767 518.541 224.227 524.511 228.694C530.481 233.16 538.941 231.941 543.407 225.971L616.192 128.685ZM174.823 215.682C179.47 203.007 179.475 203.009 179.48 203.011C179.482 203.012 179.486 203.013 179.489 203.014C179.493 203.016 179.496 203.017 179.498 203.018C179.501 203.019 179.498 203.018 179.488 203.014C179.469 203.007 179.425 202.99 179.357 202.964C179.222 202.912 178.991 202.822 178.673 202.694C178.035 202.437 177.047 202.026 175.768 201.456C173.206 200.314 169.498 198.543 165.106 196.099C156.27 191.182 144.942 183.693 134.609 173.352C114.397 153.124 97.7311 122.004 111.623 75.2614L85.7413 67.5698C68.4512 125.748 89.856 166.762 115.51 192.436C128.11 205.047 141.663 213.953 151.976 219.692C157.158 222.575 161.591 224.698 164.777 226.118C166.371 226.828 167.659 227.365 168.578 227.736C169.038 227.921 169.406 228.065 169.675 228.168C169.809 228.22 169.919 228.261 170.002 228.293C170.044 228.309 170.08 228.322 170.109 228.333C170.123 228.338 170.136 228.343 170.147 228.347C170.153 228.349 170.16 228.352 170.163 228.353C170.17 228.355 170.176 228.357 174.823 215.682ZM111.391 75.9674C118.596 55.8511 137.372 33.9214 170.517 28.6833C204.135 23.3705 255.531 34.7533 328.106 88.801L344.233 67.1462C268.876 11.0269 210.14 -4.91361 166.303 2.01428C121.993 9.01681 95.9904 38.8917 85.9724 66.8638L111.391 75.9674ZM328.475 89.0659C398.364 137.549 474.018 153.163 607.307 133.96L603.457 107.236C474.34 125.837 406.316 110.204 343.864 66.8813L328.475 89.0659Z"
                  fill="currentColor" class="fill-gray-800 dark:fill-white" />
                <path
                  d="M17.863 238.22C10.4785 237.191 3.6581 242.344 2.62917 249.728C1.60024 257.113 6.75246 263.933 14.137 264.962L17.863 238.22ZM117.548 265.74L119.421 252.371L119.411 252.37L117.548 265.74ZM120.011 466.653L132.605 471.516L132.747 471.147L132.868 470.771L120.011 466.653ZM285.991 553.767C291.813 549.109 292.756 540.613 288.098 534.792L212.193 439.92C207.536 434.098 199.04 433.154 193.218 437.812C187.396 442.47 186.453 450.965 191.111 456.787L258.582 541.118L174.251 608.589C168.429 613.247 167.486 621.742 172.143 627.564C176.801 633.386 185.297 634.329 191.119 629.672L285.991 553.767ZM14.137 264.962L115.685 279.111L119.411 252.37L17.863 238.22L14.137 264.962ZM115.675 279.11C124.838 280.393 137.255 284.582 145.467 291.97C149.386 295.495 152.093 299.505 153.39 304.121C154.673 308.691 154.864 314.873 152.117 323.271L177.779 331.665C181.924 318.993 182.328 307.301 179.383 296.818C176.451 286.381 170.485 278.159 163.524 271.897C149.977 259.71 131.801 254.105 119.421 252.371L115.675 279.11ZM152.117 323.271C138.318 365.454 116.39 433.697 107.154 462.535L132.868 470.771C142.103 441.936 164.009 373.762 177.779 331.665L152.117 323.271ZM107.417 461.79C103.048 473.105 100.107 491.199 107.229 508.197C114.878 526.454 132.585 539.935 162.404 543.488L165.599 516.678C143.043 513.99 135.175 505.027 132.132 497.764C128.562 489.244 129.814 478.743 132.605 471.516L107.417 461.79ZM162.404 543.488C214.816 549.734 260.003 554.859 276.067 556.643L279.047 529.808C263.054 528.032 217.939 522.915 165.599 516.678L162.404 543.488Z"
                  fill="currentColor" class="fill-orange-500" />
                <path
                  d="M229.298 165.61C225.217 159.371 216.85 157.621 210.61 161.702C204.371 165.783 202.621 174.15 206.702 180.39L229.298 165.61ZM703.921 410.871C711.364 410.433 717.042 404.045 716.605 396.602L709.47 275.311C709.032 267.868 702.643 262.189 695.2 262.627C687.757 263.065 682.079 269.454 682.516 276.897L688.858 384.71L581.045 391.052C573.602 391.49 567.923 397.879 568.361 405.322C568.799 412.765 575.187 418.444 582.63 418.006L703.921 410.871ZM206.702 180.39C239.898 231.14 343.567 329.577 496.595 322.758L495.394 295.785C354.802 302.049 259.09 211.158 229.298 165.61L206.702 180.39ZM496.595 322.758C567.523 319.598 610.272 335.61 637.959 353.957C651.944 363.225 662.493 373.355 671.17 382.695C675.584 387.447 679.351 391.81 683.115 396.047C686.719 400.103 690.432 404.172 694.159 407.484L712.097 387.304C709.691 385.166 706.92 382.189 703.298 378.113C699.837 374.217 695.636 369.362 690.951 364.319C681.43 354.07 669.255 342.306 652.874 331.451C619.829 309.553 571.276 292.404 495.394 295.785L496.595 322.758Z"
                  fill="currentColor" class="fill-cyan-500" />
            </svg> </div> -->
            <!-- <div class="hidden absolute top-2/4 end-0 transform -translate-y-2/4 translate-x-40 md:block lg:translate-x-80"
            aria-hidden="true"> <svg class="w-72 h-auto" width="1115" height="636" viewBox="0 0 1115 636" fill="none"
            xmlns="http://www.w3.org/2000/svg">
                <path
                  d="M0.990203 279.321C-1.11035 287.334 3.68307 295.534 11.6966 297.634L142.285 331.865C150.298 333.965 158.497 329.172 160.598 321.158C162.699 313.145 157.905 304.946 149.892 302.845L33.8132 272.418L64.2403 156.339C66.3409 148.326 61.5475 140.127 53.5339 138.026C45.5204 135.926 37.3213 140.719 35.2207 148.733L0.990203 279.321ZM424.31 252.289C431.581 256.26 440.694 253.585 444.664 246.314C448.635 239.044 445.961 229.931 438.69 225.96L424.31 252.289ZM23.0706 296.074C72.7581 267.025 123.056 230.059 187.043 212.864C249.583 196.057 325.63 198.393 424.31 252.289L438.69 225.96C333.77 168.656 249.817 164.929 179.257 183.892C110.144 202.465 54.2419 243.099 7.92943 270.175L23.0706 296.074Z"
                  fill="currentColor" class="fill-orange-500" />
                <path
                  d="M451.609 382.417C446.219 388.708 446.95 398.178 453.241 403.567L555.763 491.398C562.054 496.788 571.524 496.057 576.913 489.766C582.303 483.474 581.572 474.005 575.281 468.615L484.15 390.544L562.222 299.413C567.612 293.122 566.881 283.652 560.59 278.263C554.299 272.873 544.829 273.604 539.44 279.895L451.609 382.417ZM837.202 559.655C841.706 566.608 850.994 568.593 857.947 564.09C864.9 559.586 866.885 550.298 862.381 543.345L837.202 559.655ZM464.154 407.131C508.387 403.718 570.802 395.25 638.136 410.928C704.591 426.401 776.318 465.66 837.202 559.655L862.381 543.345C797.144 442.631 718.724 398.89 644.939 381.709C572.033 364.734 504.114 373.958 461.846 377.22L464.154 407.131Z"
                  fill="currentColor" class="fill-cyan-500" />
                <path
                  d="M447.448 0.194357C439.203 -0.605554 431.87 5.43034 431.07 13.6759L418.035 148.045C417.235 156.291 423.271 163.623 431.516 164.423C439.762 165.223 447.095 159.187 447.895 150.942L459.482 31.5025L578.921 43.0895C587.166 43.8894 594.499 37.8535 595.299 29.6079C596.099 21.3624 590.063 14.0296 581.818 13.2297L447.448 0.194357ZM1086.03 431.727C1089.68 439.166 1098.66 442.239 1106.1 438.593C1113.54 434.946 1116.62 425.96 1112.97 418.521L1086.03 431.727ZM434.419 24.6572C449.463 42.934 474.586 81.0463 521.375 116.908C568.556 153.07 637.546 187.063 742.018 200.993L745.982 171.256C646.454 157.985 582.444 125.917 539.625 93.0974C496.414 59.978 474.537 26.1903 457.581 5.59138L434.419 24.6572ZM742.018 200.993C939.862 227.372 1054.15 366.703 1086.03 431.727L1112.97 418.521C1077.85 346.879 956.138 199.277 745.982 171.256L742.018 200.993Z"
                  fill="currentColor" class="fill-gray-800 dark:fill-white" />
            </svg> </div> -->
        </div>
    </div>
</div>

<script>
    function tabs() {
        return {
            activeTab: 'sprite',
            tabs: {
                'sprite': 'Sprite',
                'css': 'CSS',
                'html': 'HTML'
            },
            changeTab(tab) {
                this.activeTab = tab;
            }
        }
    };
    function calculateSha256(body) {
        const encoder = new TextEncoder();
        const data = encoder.encode(body);
        return crypto
            .subtle
            .digest('SHA-256', data)
            .then((buffer) => {
                const hashArray = Array.from(new Uint8Array(buffer));
                const hashHex = hashArray.map(b => b.toString(16).padStart(2, '0')).join('');
                return hashHex;
            });
    }
    function spriteForm() {
        return {
            formData: {
                format: 'webp',
                files: []
            },
            result: {
                SpriteUrl: '',
                Css: '',
                Html: '',
                ZipUrl: ''
            },
            getUrlApi: 'https://cssspritetool.dev/api/url',
            processApi: 'https://cssspritetool.dev/api/process',
            state: 'idle',
            buttonLabel: 'Submit',
            message: '',
            async submitForm() {
                this.buttonLabel = 'Submitting...';
                this.state = 'loading';
                this.message = '';
                if (this
                        .formData
                        .files
                        .length === 0) {
                    this.showError('Please upload at least one image.');
                    return;
                }
                if (this
                        .formData
                        .files
                        .length > 25) {
                    this.showError('You can upload up to 25 images.');
                    return;
                }
                if (this
                        .formData
                        .files
                        .some(file => file.size > 2 * 1024 * 1024)) {
                    this.showError('Each image should be less than 2MB.');
                    return;
                }
                try {
                    const urlJson = await this.fetchUrlJson();
                    await this.uploadFiles(urlJson);
                    await this.processFiles(urlJson);
                    confetti();
                    hljs.highlightAll();
                    this.state = 'success';
                } catch (error) {
                    this.showError(error.message);
                } finally {
                    this.buttonLabel = 'Submit';
                }
            },
            async fetchUrlJson() {
                const response = await fetch(this.getUrlApi, {method: 'GET'});
                if (! response.ok) 
                    throw new Error('Something went wrong. Please try again later.');
                
                return response.json();
            },
            async uploadFiles(urlJson) {
                const promises = this
                    .formData
                    .files
                    .map(file => this.uploadFile(file, urlJson));
                await Promise.all(promises);
            },
            async uploadFile(file, urlJson) {
                const formData = new FormData();
                Object.entries(urlJson.fields).forEach(([key, value]) => formData.append(key, value));
                formData.append('Content-Type', file.type);
                formData.append('file', file);
                const response = await fetch(urlJson.url, {
                    method: 'POST',
                    body: formData
                });
                if (! response.ok) 
                    throw new Error("Damn! Couldn't upload the file.");
                
            },
            async processFiles(urlJson) {
                const fileKeys = this
                    .formData
                    .files
                    .map(file => urlJson
                        .fields
                        .key
                        .replace('${filename}', file.name));
                const bodyString = JSON.stringify({files: fileKeys, format: this.formData.format});
                const response = await fetch(this.processApi, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'x-amz-content-sha256': await calculateSha256(bodyString)
                    },
                    body: bodyString
                });
                if (! response.ok) {
                    const error = await response.text();
                    throw new Error(error ?? 'Something went wrong. Please try again later.');
                }
                this.result = await response.json();
            },
            showError(message) {
                this.message = message;
                this.state = 'error';
                this.buttonLabel = 'Submit'
            }
        }
    }
</script>